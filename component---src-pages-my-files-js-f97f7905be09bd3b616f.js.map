{"version":3,"sources":["webpack:///./src/components/header.module.css","webpack:///./src/components/wave.module.css","webpack:///./src/pages/my-files.js","webpack:///./src/components/header.js","webpack:///./src/components/wave.js","webpack:///./src/components/layout.js","webpack:///./src/components/layout.module.css","webpack:///./static/shoptalk-clip.mp3"],"names":["module","exports","MyFiles","data","console","log","allFile","edges","map","index","node","key","relativePath","prettySize","extension","birthTime","query","Header","siteTitle","className","styles","header","headerContent","to","title","menuItem","defaultProps","Wave","componentDidMount","this","updateCanvas","filterData","audioBuffer","rawData","getChannelData","blockSize","Math","floor","length","filteredData","i","blockStart","sum","slice","reduce","a","b","abs","push","normalizeData","multiplier","pow","max","n","drawLineSegment","ctx","x","y","width","isEven","lineWidth","strokeStyle","beginPath","moveTo","lineTo","arc","PI","stroke","draw","normalizedData","canvas","document","querySelector","dpr","window","devicePixelRatio","offsetWidth","height","offsetHeight","padding","getContext","scale","translate","min","AudioContext","webkitAudioContext","audioContext","fetch","clip","then","response","arrayBuffer","decodeAudioData","render","waveContainer","ref","canv","React","Component","Layout","children","container","content","footer"],"mappings":"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","file":"component---src-pages-my-files-js-f97f7905be09bd3b616f.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header-module--header--2Q3RK\",\"headerContent\":\"header-module--header-content--24aff\",\"title\":\"header-module--title--2iLmX\",\"menuItem\":\"header-module--menu-item--28caT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"waveContainer\":\"wave-module--wave-container--1rnwa\",\"canv\":\"wave-module--canv--1cR04\"};","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\n\nexport default function MyFiles({ data }) {\n  console.log(data)\n  return (\n    <Layout>\n      <div>\n        <h1>My Site's Files</h1>\n        <table>\n          <thead>\n          <tr>\n            <th>relativePath</th>\n            <th>prettySize</th>\n            <th>extension</th>\n            <th>birthTime</th>\n          </tr>\n          </thead>\n          <tbody>\n          {data.allFile.edges.map(({ node }, index) => (\n            <tr key={index}>\n              <td>{node.relativePath}</td>\n              <td>{node.prettySize}</td>\n              <td>{node.extension}</td>\n              <td>{node.birthTime}</td>\n            </tr>\n          ))}\n          </tbody>\n        </table>\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query {\n    allFile {\n      edges {\n        node {\n          relativePath\n          prettySize\n          extension\n          birthTime(fromNow: true)\n        }\n      }\n    }\n  }\n`","import { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport styles from \"./header.module.css\"\n\nconst Header = ({ siteTitle }) => (\n  <div className={styles.header}>\n    <header className={styles.header}>\n      <div className={styles.headerContent}>\n        <Link\n          to=\"/\"\n          className={styles.title}>\n          {siteTitle}\n        </Link>\n        <Link\n          to=\"/about\"\n          className={styles.menuItem}>\n          About\n        </Link>\n        <Link\n          to=\"https://www.youtube.com/channel/UCiePXERaqOFLt_hBtUynd9g\"\n          className={styles.menuItem}>\n          Youtube\n        </Link>\n      </div>\n    </header>\n  </div>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string\n}\n\nHeader.defaultProps = {\n  siteTitle: \"Polish Lyrics\"\n\n}\n\nexport default Header\n\n","import React from \"react\"\nimport styles from \"./wave.module.css\"\nimport clip from \"../../static/shoptalk-clip.mp3\"\n\nexport default class Wave extends React.Component {\n\n  componentDidMount() {\n    this.data = this.updateCanvas()\n  }\n\n  filterData(audioBuffer) {\n    const rawData = audioBuffer.getChannelData(0) // We only need to work with one channel of data\n    const samples = 600 // Number of samples we want to have in our final data set\n    const blockSize = Math.floor(rawData.length / samples) // the number of samples in each subdivision\n    const filteredData = []\n    for (let i = 0; i < samples && (i + 1) * blockSize < rawData.length; i++) {\n      let blockStart = blockSize * i\n      let sum = rawData\n        .slice(blockStart, blockStart + blockSize)\n        .reduce((a, b) => Math.abs(a) + Math.abs(b), 0)\n      filteredData.push(sum / blockSize)\n    }\n    return filteredData\n  }\n\n  normalizeData(filteredData) {\n    const multiplier = Math.pow(Math.max(...filteredData), -1)\n    return filteredData.map(n => n * multiplier)\n  }\n\n  drawLineSegment(ctx, x, y, width, isEven) {\n    ctx.lineWidth = 1 // how thick the line is\n    ctx.strokeStyle = \"#fff\" // what color our line is\n    ctx.beginPath()\n    y = isEven ? y : -y\n    ctx.moveTo(x, 0)\n    ctx.lineTo(x, y)\n    ctx.arc(x + width / 2, y, width / 2, Math.PI, 0, isEven)\n    ctx.lineTo(x + width, 0)\n    ctx.stroke()\n  }\n\n  draw(normalizedData) {\n    // Set up the canvas\n    const canvas = document.querySelector(\"canvas\")\n    const dpr = window.devicePixelRatio || 1\n    const padding = 20\n    canvas.width = canvas.offsetWidth * dpr\n    canvas.height = (canvas.offsetHeight + padding * 2) * dpr\n    const ctx = canvas.getContext(\"2d\")\n    ctx.scale(dpr, dpr)\n    ctx.translate(0, canvas.height / 2)\n\n    // draw the line segments\n    const width = canvas.offsetWidth / normalizedData.length\n    for (let i = 0; i < normalizedData.length; i++) {\n      const x = width * i\n      let height = normalizedData[i] * canvas.offsetHeight - 2 * padding\n      height = Math.max(0, height)\n      height = Math.min(canvas.offsetHeight / 2 - padding, height)\n      this.drawLineSegment(ctx, x, height, width, (i + 1) % 2)\n    }\n  }\n\n  updateCanvas() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext\n    const audioContext = new AudioContext()\n\n    fetch(clip)\n      .then(response => response.arrayBuffer())\n      .then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer))\n      .then(audioBuffer => {\n        const data = this.normalizeData(this.filterData(audioBuffer))\n        this.draw(data)\n        return data\n      })\n  }\n\n  render() {\n    return (\n      <div className={styles.waveContainer}>\n        <canvas ref=\"canvas\" className={styles.canv}>Canv</canvas>\n      </div>\n    )\n  }\n}","import React from \"react\"\nimport Header from \"./header\"\nimport Wave from \"./wave\"\nimport styles from \"./layout.module.css\"\n\nexport default function Layout({ children }) {\n  return (\n    <div className={styles.container}>\n      <Header/>\n      <Wave/>\n      <div className={styles.content}>\n        {children}\n      </div>\n      <div className={styles.footer}>\n        <small>Copyright N+1 2020</small>\n      </div>\n    </div>\n  )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"layout-module--container--zLeA4\",\"content\":\"layout-module--content--2CPz1\",\"footer\":\"layout-module--footer--Qriki\"};","module.exports = __webpack_public_path__ + \"static/shoptalk-clip-0bdc4ea3fc7c45c87e94da00c943a115.mp3\";"],"sourceRoot":""}